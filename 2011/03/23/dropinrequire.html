<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>DropinRequire - Experimental require for browsers in 20 lines</title>
	<meta name="author" content="Jerome Etienne" />
	
	
	<!-- syntax highlighting CSS -->
	<link rel="stylesheet" href="/css/syntax.css" type="text/css" />
	<!-- Homepage CSS -->
	<link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
</head>
<body>

<div class="site">
	<div class="title">
		<a href="/">Jerome Etienne</a>
		<a class="extra" href="http://jetienne.com">Homepage</a>
		<div style="float: right;"> 
			<a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script> 
		</div>
	</div>
  
	<div id="post">
<h1>DropinRequire - Experimental require for browsers in 20 lines</h1>

<p class='meta'>23 March 2011 -</p>


<h1>Drop-In require</h1>

<p><a href="http://jeromeetienne.github.com/dropinrequire.js">dropinrequire.js</a>
is a drop-in replacement for commonjs <a href="http://www.commonjs.org/specs/modules/1.0/">module</a>
in a browser. No server to run, No preprocessing of javascript files.
It is very simple it needs only <a href="https://github.com/jeromeetienne/dropinrequire.js/blob/master/dropin_require.js#L1-20">20-lines</a>
of js.</p>

<p>It is designed for rapid prototyping, not for <em>production</em> (see <a href="#performance">details</a>).
If you are in a rush, are using <a href="http://nodejs.org">node.js</a> and are willing to share code
with your browser without hassle, <a href="http://jeromeetienne.github.com/dropinrequire.js">dropinrequire.js</a> is for you.</p>

<h2>How to use it</h2>

<p>You just include this in your webpage</p>

<pre><code>&lt;script type="text/javascript" src="./dropin_require.js"&gt;&lt;/script&gt;
</code></pre>

<p>And after that you can use require(filename) to import your node module in the
web browser.
Suppose you got a module <code>foobar.js</code></p>

<pre><code>exports.foo = "bar";
</code></pre>

<p>then this html will display <code>bar</code>. Here it is a <a href="http://jeromeetienne.github.com/dropinrequire.js/demo/">demo</a> to show, and not tell.</p>

<pre><code>&lt;script src="../dropin_require.js"&gt;&lt;/script&gt;
&lt;script&gt;
    alert( require('./foobar.js').foo );
&lt;/script&gt;
</code></pre>

<h2>Performance vs Compatibility</h2>

<p><a name="performance"></a></p>

<p><a href="http://jeromeetienne.github.com/dropinrequire.js">dropinrequire.js</a> goals were to be short and compatible.
The compatibility part is the painfull one.
Nodejs <a href="http://nodejs.org/docs/v0.4.3/api/globals.html#require">require</a> is synchronous, so when you require
you dont do anything else. To ensure compatibility, dropinrequire must be synchronous too.
But It is ok for nodejs because reading files from local disks is fast, much faster than network transfert.
The same doesnt apply in the browser.
Because of compatibility, dropinrequire.js relies on synchronous xhr which have
signficant performance issues. maybe one day i will incude a cache in LocalStorage.
For now, i recommend <a href="https://github.com/weepy/brequire">brequire</a> for production.  It does
require you to preprocess your js files on the server, but it is in the same
spirit than <a href="http://jeromeetienne.github.com/dropinrequire.js">dropinrequire.js</a>, small and clean.</p>

<h2>About</h2>

<p>The code is available on <a href="https://github.com/jeromeetienne/dropinrequire.js">github</a> under
<a href="https://github.com/jeromeetienne/dropinrequire.js/blob/master/MIT-LICENSE.txt">MIT license</a> and has been
written by <a href="http://jetienne.com">Jerome Etienne</a>.
That's it. No fuss no muss.</p>

</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>22 Mar 2011</span> &raquo; <a href="/2011/03/22/microeventjs.html">MicroEvent.js - micro event emitter in 20 lines</a></li>
    
      <li><span>10 Mar 2011</span> &raquo; <a href="/2011/03/10/initial-post.html">Initial Post</a></li>
    
  </ul>
</div>
  
	<div class="footer">
		<div class="credits">
			<p>
				made by <a href='http://twitter.com/jerome_etienne'>@jerome_etienne</a>
			</p>
		</div>
	</div>
</div>

<!-- google analytic -->
<script type="text/javascript">	
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-4037844-18']);
	_gaq.push(['_trackPageview']);
	
	(function() {
	  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
 
<!-- follow me on twitter --> 
<a href="http://www.twitter.com/jerome_etienne"><img style="position: fixed; top: 10px; right: 10px; border: 0;" src="http://twitter-badges.s3.amazonaws.com/follow_me-c.png" alt="Follow jerome_etienne on Twitter"/></a> 

<!-- twitter profile widget -->
<style>
#twitterProfileWidget {
	position: fixed;
	bottom	: 0px;
	right	: 0px;
}
</style>
<div id="twitterProfileWidget">
	<script src="http://widgets.twimg.com/j/2/widget.js"></script>
	<script>
return;
	new TWTR.Widget({
		version: 2,
		type: 'profile',
		rpp: 4,
		interval: 6000,
		width: 250,
		height: 300,
		theme: {
			shell: {
				background: '#00a0d1',
				color: '#ffffff'
			},
			tweets: {
				background: '#c0deed',
				color: '#333333',
				links: '#00a0d1'
			}
		},
		features: {
			scrollbar: false,
			loop: false,
			live: false,
			hashtags: true,
			timestamp: true,
			avatars: false,
			behavior: 'all'
		}
	}).render().setUser('jerome_etienne').start();
	</script>
</div>




</body>
</html>
